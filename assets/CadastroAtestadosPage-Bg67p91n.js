import{r as h,j as e,b as g,I as o,y as F,w as C,v,z as w,A,B as j,M,C as D,D as I}from"./index-acpie0c_.js";import{F as q}from"./FavoriteButton-B4vdGqJV.js";import{S as f}from"./Select-CmNDdbZr.js";import{T as S}from"./Textarea-C2PIFugQ.js";import"./memoize-one.esm-BSNCZdzh.js";import"./index-CnyDuYXe.js";const R=()=>{const d=new Date,n=new Date;n.setDate(d.getDate()-1);const m=s=>s.toISOString().split("T")[0],[a,t]=h.useState({matricula:"",nomeFuncionario:"",dataInicio:m(n),dataFim:m(d),periodo:"dia_todo",crmMedico:"",nomeMedico:"",cid:"",nomeAcompanhado:"",parentesco:"",observacao:"",arquivo:null}),[r,i]=h.useState(!1),x=[{value:"manha",label:"Manhã"},{value:"tarde",label:"Tarde"},{value:"noite",label:"Noite"},{value:"dia_todo",label:"Dia Todo"}],u=[{value:"pai",label:"Pai"},{value:"mae",label:"Mãe"},{value:"filho",label:"Filho"},{value:"conjuge",label:"Cônjuge"},{value:"irmao",label:"Irmão"},{value:"avo",label:"Avô/Avó"},{value:"bisavo",label:"Bisavô/Bisavó"},{value:"neto",label:"Neto/Neta"}],l=(s,p=null)=>{if(p){t({...a,[p]:s==null?void 0:s.value});return}const{name:c,value:N,files:y}=s.target;t(c==="arquivo"?{...a,[c]:y[0]}:{...a,[c]:N})},b=s=>{if(s.preventDefault(),i(!0),console.log(a),!a.matricula||!a.nomeFuncionario||!a.dataInicio||!a.dataFim||!a.periodo||!a.crmMedico||!a.nomeMedico||!a.arquivo){D("Preencha os campos obrigatórios"),i(!1);return}setTimeout(()=>{console.log("Dados enviados:",a),i(!1),I("Atestado cadastrado com sucesso!"),t({matricula:"",nomeFuncionario:"",dataInicio:"",dataFim:"",periodo:"",crmMedico:"",nomeMedico:"",cid:"",nomeAcompanhado:"",parentesco:"",observacao:"",arquivo:null})},1500)};return e.jsxs("div",{className:"bg-base-100 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h1",{className:"flex text-3xl font-bold text-base-content",children:["Cadastro de Atestados"," ",e.jsx(q,{tela:{nome:"Cadastro de Atestados",url:"ambulatorio/cadastro-atestados"}})]}),e.jsx("div",{className:"text-sm breadcrumbs text-gray-500",children:e.jsxs("ul",{className:"pointer-events-none",children:[e.jsx("li",{children:"Ambulatório"}),e.jsx("li",{className:"text-primary font-medium",children:"Cadastro de Atestados"})]})})]}),e.jsx("div",{className:"bg-base-200 rounded-xl shadow-lg p-6",children:e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"card bg-base-100 shadow",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"card-title text-lg font-bold flex items-center gap-2",children:[e.jsx(g,{className:"text-primary"}),"Dados do Funcionário"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"text",name:"matricula",fieldset:"Matrícula",placeholder:"123456",largura:"w-full",value:a.matricula,onChange:l,mask:"000000",asterisk:!0}),e.jsx(o,{type:"text",name:"nomeFuncionario",fieldset:"Nome Completo",placeholder:"Nome completo do funcionário",largura:"w-full",value:a.nomeFuncionario,onChange:l,asterisk:!0})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"card-title text-lg font-bold flex items-center gap-2",children:[e.jsx(F,{className:"text-primary"}),"Dados do Acompanhado"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{type:"text",name:"nomeAcompanhado",fieldset:e.jsxs(e.Fragment,{children:["Nome do Acompanhado",e.jsx("small",{className:"text-xs text-gray-500 -ml-1",children:"(Opcional)"})]}),placeholder:"Nome completo do acompanhado",largura:"w-full",value:a.nomeAcompanhado,onChange:l,optionalBadge:!0}),e.jsx(f,{name:"parentesco",options:u,placeholder:"Selecione o parentesco...",value:u.find(s=>s.value===a.parentesco),onChange:s=>l(s,"parentesco"),fieldset:e.jsxs(e.Fragment,{children:["Parentesco",e.jsx("small",{className:"text-xs text-gray-500 -ml-1",children:"(Opcional)"})]}),largura:"w-full"})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow md:col-span-2",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"card-title text-lg font-bold flex items-center gap-2",children:[e.jsx(C,{className:"text-primary"}),"Dados do Atestado"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(o,{type:"date",name:"dataInicio",fieldset:"Data Início",value:a.dataInicio,onChange:l,largura:"w-full",asterisk:!0}),e.jsx(o,{type:"date",name:"dataFim",fieldset:"Data Fim",value:a.dataFim,onChange:l,largura:"w-full",asterisk:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(f,{name:"periodo",options:x,placeholder:"Selecione o nível",value:x.find(s=>s.value===a.periodo),onChange:s=>l(s,"periodo"),fieldset:"Período",largura:"w-full",asterisk:!0}),e.jsx(o,{type:"text",name:"cid",fieldset:e.jsxs(e.Fragment,{children:["CID",e.jsx("small",{className:"text-xs text-gray-500 -ml-1",children:"(Opcional)"})]}),placeholder:"Código CID",largura:"w-full",value:a.cid,onChange:l,mask:"a00.00",forceUppercase:!0,optionalBadge:!0})]})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow md:col-span-2",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"card-title text-lg font-bold flex items-center gap-2",children:[e.jsx(g,{className:"text-primary"}),"Dados do Médico"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(o,{type:"text",name:"crmMedico",fieldset:"CRM",placeholder:"123456/PR",largura:"w-full",value:a.crmMedico,onChange:l,mask:"000000/aa",forceUppercase:!0,asterisk:!0}),e.jsx(o,{type:"text",name:"nomeMedico",fieldset:"Nome do Médico",placeholder:"Nome completo do médico",largura:"w-full",value:a.nomeMedico,onChange:l,asterisk:!0})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow md:col-span-2",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"card-title text-lg font-bold flex items-center gap-2",children:[e.jsx(v,{className:"text-primary"}),"Informações Adicionais"]}),e.jsxs("div",{children:[e.jsx(S,{name:"observacao",placeholder:"Informações adicionais sobre o atestado",value:a.observacao,onChange:s=>t({...a,observacao:s}),largura:"w-full",fieldset:e.jsxs(e.Fragment,{children:["Observações",e.jsx("small",{className:"text-xs text-gray-500 -ml-1",children:"(Opcional)"})]})}),e.jsxs("div",{children:[e.jsxs("fieldset",{className:"fieldset",children:[e.jsxs("legend",{className:"fieldset-legend ml-1 text-md",children:["Anexar Atestado",e.jsx("span",{className:"text-error -ml-1",children:"*"})]}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col w-full border-2 border-dashed border-base-300 rounded-xl cursor-pointer hover:bg-base-300/20 transition",children:[e.jsx("div",{className:"flex flex-col items-center justify-center p-6",children:a.arquivo?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(v,{className:"h-10 w-10 text-accent"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-base-content",children:a.arquivo.name}),e.jsx("p",{className:"text-xs text-base-content/70 mt-1",children:"Clique para selecionar outro arquivo"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(w,{className:"h-10 w-10 text-base-content/50"}),e.jsx("p",{className:"mt-2 text-sm font-medium text-base-content",children:"Arraste ou clique para enviar o arquivo"}),e.jsx("p",{className:"text-xs text-base-content/70 mt-1",children:"Formatos aceitos: PDF, JPG, PNG (máx. 5MB)"})]})}),e.jsx("input",{type:"file",name:"arquivo",onChange:l,className:"hidden",accept:".pdf,.jpg,.jpeg,.png"})]})})]}),a.arquivo&&e.jsxs("button",{type:"button",className:"btn btn-sm btn-ghost mt-2 text-error",onClick:()=>t({...a,arquivo:null}),children:[e.jsx(A,{className:"mr-1"})," Remover arquivo"]})]})]})]})})]}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row justify-end gap-3",children:[e.jsx(j,{variant:"ghost",disabled:r,onClick:()=>{t({matricula:"",nomeFuncionario:"",dataInicio:"",dataFim:"",periodo:"",crmMedico:"",nomeMedico:"",cid:"",nomeAcompanhado:"",parentesco:"",observacao:"",arquivo:null})},children:"Limpar Formulário"}),e.jsx(j,{type:"submit",variant:"primary",icon:e.jsx(M,{}),loading:r,className:r?"mx-[73.5px]":"",children:"Cadastrar Atestado"})]})]})})]})};export{R as default};
