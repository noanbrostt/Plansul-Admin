import{r as m,j as e,b as p,c as v,d as j,e as b,f as g,h as _}from"./index-DDNo2eib.js";import{T as y}from"./Tabela-DpgNzJKj.js";import{F as A}from"./FavoriteButton-B-Q1ES4E.js";import{S as T}from"./Select-C3SzciF5.js";import"./memoize-one.esm-BSNCZdzh.js";import"./index-CnyDuYXe.js";const x=[{co_perfil:1,nome:"Administrador"},{co_perfil:2,nome:"Gestor"},{co_perfil:3,nome:"Desenvolvedor"},{co_perfil:4,nome:"Analista"},{co_perfil:5,nome:"Usuário"}],F=x.map(a=>({value:a.co_perfil,label:a.nome})),S=({user:a,editingId:l,optionsPerfis:t,saveProfile:r,cancelEditing:c,startEditing:o})=>l===a.id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{variant:"primary",className:"w-full max-w-xs",options:t,value:t.find(i=>i.value===a.co_perfil),autoFocus:!0,onChange:i=>{i&&r(a.id,i.value)}}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{className:"btn btn-ghost btn-sm text-error p-2",onClick:c,children:e.jsx(g,{className:"text-xl"})})})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`badge badge-${a.perfilNome==="Administrador"?"primary":a.perfilNome==="Gestor"?"secondary":a.perfilNome==="Desenvolvedor"?"accent":"outline"}`,children:a.perfilNome}),e.jsx("button",{className:"btn btn-ghost btn-sm text-primary p-2 tooltip tooltip-right","data-tip":"Editar Perfil",onClick:()=>o(a.id),children:e.jsx(_,{className:"text-xl"})})]});function P(){const[a,l]=m.useState(null),[t,r]=m.useState([{id:1,name:"Ana Silva",co_matricula:"123456",co_perfil:1,perfilNome:"Administrador",statusTexto:"Habilidato"},{id:2,name:"Carlos Mendes",co_matricula:"123463",co_perfil:2,perfilNome:"Gestor",statusTexto:"Habilidato"},{id:3,name:"Beatriz Costa",co_matricula:"123477",co_perfil:3,perfilNome:"Desenvolvedor",statusTexto:"Habilidato"},{id:4,name:"Daniel Oliveira",co_matricula:"123486",co_perfil:4,perfilNome:"Analista",statusTexto:"Desabilitado"},{id:5,name:"Eduarda Santos",co_matricula:"123491",co_perfil:5,perfilNome:"Usuário",statusTexto:"Habilidato"},{id:6,name:"Fernando Almeida",co_matricula:"123504",co_perfil:3,perfilNome:"Desenvolvedor",statusTexto:"Habilidato"}]),c=s=>{l(s)},o=(s,n)=>{const u=t.map(d=>{if(d.id===s){const h=x.find(N=>N.co_perfil===n);return{...d,co_perfil:n,perfilNome:h.nome}}return d});r(u),l(null)},i=()=>{l(null)},f=[{accessorKey:"co_matricula",header:"Matrícula",size:60},{accessorKey:"name",header:"Nome",cell:({row:s})=>e.jsx("div",{className:"font-bold",children:s.original.name})},{accessorKey:"perfilNome",header:"Perfil",cell:({row:s})=>e.jsx(S,{user:s.original,editingId:a,optionsPerfis:F,saveProfile:o,cancelEditing:i,startEditing:c})},{accessorKey:"statusTexto",header:()=>e.jsx("div",{className:"w-full text-center",children:"Status"}),cell:({row:s})=>e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`badge badge-${s.original.statusTexto=="Habilidato"?"success":"error"}`,children:s.original.statusTexto})}),size:60}];return e.jsxs("div",{className:"bg-base-100 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h1",{className:"flex text-3xl font-bold text-base-content",children:["Gestão de Acessos"," ",e.jsx(A,{tela:{nome:"Gestão de Acessos",url:"admin/acessos"}})]}),e.jsx("div",{className:"text-sm breadcrumbs text-gray-500",children:e.jsxs("ul",{className:"pointer-events-none",children:[e.jsx("li",{children:"Admin"}),e.jsx("li",{className:"text-primary font-medium",children:"Gestão de Acessos"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"stats shadow bg-base-200",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-primary",children:e.jsx(p,{className:"text-2xl"})}),e.jsx("div",{className:"stat-title",children:"Total de Usuários"}),e.jsx("div",{className:"stat-value",children:t.length}),e.jsxs("div",{className:"stat-desc",children:[t.filter(s=>s.statusTexto==="Habilidato").length," Habilidatos"]})]})}),e.jsx("div",{className:"stats shadow bg-base-200",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-secondary",children:e.jsx(v,{className:"text-2xl"})}),e.jsx("div",{className:"stat-title",children:"Administradores"}),e.jsx("div",{className:"stat-value",children:t.filter(s=>s.co_perfil===1).length}),e.jsx("div",{className:"stat-desc",children:"Acesso total"})]})}),e.jsx("div",{className:"stats shadow bg-base-200",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-accent",children:e.jsx(j,{className:"text-2xl"})}),e.jsx("div",{className:"stat-title",children:"Desenvolvedores"}),e.jsx("div",{className:"stat-value",children:t.filter(s=>s.co_perfil===3).length}),e.jsx("div",{className:"stat-desc",children:"Habilidatos"})]})}),e.jsx("div",{className:"stats shadow bg-base-200",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-info",children:e.jsx(b,{className:"text-2xl"})}),e.jsx("div",{className:"stat-title",children:"Contas Desabilitadas"}),e.jsx("div",{className:"stat-value",children:t.filter(s=>s.statusTexto==="Desabilitado").length}),e.jsx("div",{className:"stat-desc",children:"Sem acesso"})]})})]}),e.jsx(y,{data:t,columns:f,exportFileName:"gestao_acessos",initialSorting:[{id:"statusTexto",desc:!0},{id:"name",desc:!1}]})]})}export{P as default};
